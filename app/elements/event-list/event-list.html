<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../event-card/event-card.html">

<dom-module id="event-list">

<style>
  :host {
    display: block;
  }
</style>

<template>
  <template
    is="dom-repeat"
    items="{{events}}"
    filter="{{_getFilter(showHiddenEvents, showHiddenCalendars)}}"
    observe="hidden calendarHidden">

    <event-card
      event-id="[[item.eventId]]"
      calendar-id="[[item.calendarId]]"
      recurrence-id="[[item.recurrenceId]]"
      name="[[item.name]]"
      start-date-ms="[[_getDateInMs(item.startDate)]]"
      end-date-ms="[[_getDateInMs(item.endDate)]]"
      first="[[!index]]"
      opened="[[_isOpened(index, openedIndex)]]"
      starred="{{item.starred}}"
      event-hidden="{{item.hidden}}"
      calendar-hidden="[[item.calendarHidden]]"
      color="[[item.color]]"
      link="[[item.link]]"
      on-event-open-toggled="_onEventOpenToggled">
    </event-card>
  </template>
</template>

<script src="event-list.js"></script>

</dom-module>
