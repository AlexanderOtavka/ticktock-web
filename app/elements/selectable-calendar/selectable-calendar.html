<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../calendar-icon/calendar-icon.html">
<link rel="import" href="../dropdown-menu/dropdown-menu.html">
<link rel="import" href="../ticktock-icons/ticktock-icons.html">

<dom-module id="selectable-calendar">

<style>
  :host {
    display: block;
  }

  paper-icon-button {
    color: var(--light-icon-color);
  }

  paper-icon-item {
    font-size: var(--calendar-font-size);
    padding-right: 2px;
    --paper-item-focused-before: {
      background-color: rgba(0, 0, 0, 0);
    }
  }

  .hidden {
    opacity: 0.7;
  }

  #name {
    @apply(--layout-flex);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
</style>

<template>
  <paper-icon-item>
    <calendar-icon
      color="[[color]]"
      icon="[[_getIcon(icon, calendarHidden)]]"
      faded="[[calendarHidden]]"
      item-icon>
    </calendar-icon>

    <span id="name" class$="[[_getHiddenClass(calendarHidden)]]">
      [[name]]
    </span>

    <dropdown-menu
      horizontal-align="left"
      horizontal-offset="0"
      vertical-offset="0"
      hidden="[[noMenu]]">

      <paper-icon-button
        icon="icons:more-vert"
        class="dropdown-trigger">
      </paper-icon-button>

      <div class="dropdown-content">
        <paper-item on-tap="toggleHide">
          <div>[[_getHideButtonText(calendarHidden)]]</div>
        </paper-item>
      </div>
    </dropdown-menu>
  </paper-icon-item>
</template>

<script src="selectable-calendar.js"></script>

</dom-module>
